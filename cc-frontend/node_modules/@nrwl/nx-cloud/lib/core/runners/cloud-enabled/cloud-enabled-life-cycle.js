const a0_0x3816=['scheduleTask','.cache','cacheableOperations','terminalOutput','terminalOutputs','endCommand','startsWith','push','keys','hash','runtime','Cannot\x20find\x20task\x20','length','find','local-cache-hit','target','remote-cache-hit','path','updateStartedTask','MAX_CHARACTERS_CACHED_TASK','getTerminalOutput','cacheStatus','endTasks','readTerminalOutputFile','toString','slice','local-cache','skipNxCache','endTask','taskId','CloudEnabledLifeCycle','status','nodes','MAX_CHARACTERS_SUCCESSFUL_TASK','startTask','NX_CLOUD_UNLIMITED_OUTPUT','tasks','code','cache-miss','MAX_CHARACTERS_FAILED_TASK','endTime','join','node_modules','cleanUpHashDetails','serializeOverrides','collectTerminalOutput','local-cache-kept-existing','../../../utilities/serializer-overrides','remote-cache','statuses','scheduledTasks','readFileSync','project','forEach','cacheDirectory','outputObfuscator','hashDetails','toISOString','task','params','filter','obfuscate','__esModule','runContext','TRUNCATED\x0a\x0a'];(function(_0x4bd697,_0x381686){const _0x48d7d1=function(_0x4f2ab6){while(--_0x4f2ab6){_0x4bd697['push'](_0x4bd697['shift']());}};_0x48d7d1(++_0x381686);}(a0_0x3816,0x1a2));const a0_0x48d7=function(_0x4bd697,_0x381686){_0x4bd697=_0x4bd697-0x0;let _0x48d7d1=a0_0x3816[_0x4bd697];return _0x48d7d1;};'use strict';Object['defineProperty'](exports,a0_0x48d7('0x22'),{'value':!![]});exports['CloudEnabledLifeCycle']=void 0x0;const path=require(a0_0x48d7('0x36'));const path_1=require(a0_0x48d7('0x36'));const fs_1=require('fs');const environment_1=require('../../../utilities/environment');const serializer_overrides_1=require(a0_0x48d7('0x13'));const {workspaceRoot}=require('../../../utilities/nx-imports');class CloudEnabledLifeCycle{constructor(_0x16bd2b,_0x222808,_0x5265dc,_0xb95949,_0x2aabb2,_0x1a844a,_0x5e1799){this['runContext']=_0x16bd2b;this[a0_0x48d7('0x1a')]=_0x222808;this[a0_0x48d7('0x40')]=_0x5265dc;this[a0_0x48d7('0x11')]=_0xb95949;this[a0_0x48d7('0x27')]=_0x2aabb2;this[a0_0x48d7('0x1b')]=_0x1a844a;this['tasks']=_0x5e1799;}[a0_0x48d7('0x25')](_0x6185ce){this[a0_0x48d7('0x23')][a0_0x48d7('0x16')][a0_0x48d7('0x2c')](_0x6185ce);}[a0_0x48d7('0x6')](_0x4ba69a){this[a0_0x48d7('0x8')][a0_0x48d7('0x2c')]({'taskId':_0x4ba69a['id'],'startTime':new Date()[a0_0x48d7('0x1d')](),'target':_0x4ba69a['target'][a0_0x48d7('0x34')],'projectName':_0x4ba69a['target'][a0_0x48d7('0x18')],'hash':_0x4ba69a[a0_0x48d7('0x2e')],'hashDetails':this[a0_0x48d7('0xf')](_0x4ba69a[a0_0x48d7('0x1c')]),'params':(0x0,serializer_overrides_1[a0_0x48d7('0x10')])(_0x4ba69a)});}[a0_0x48d7('0x0')](_0x1c262f,_0x25199a){let _0x5e1194;if(this[a0_0x48d7('0x23')][a0_0x48d7('0x15')][_0x1c262f[a0_0x48d7('0x2e')]]){_0x5e1194=this[a0_0x48d7('0x23')]['statuses'][_0x1c262f[a0_0x48d7('0x2e')]];}else{if(this['cacheableOperations']['indexOf'](_0x1c262f[a0_0x48d7('0x34')][a0_0x48d7('0x34')])>-0x1&&!this[a0_0x48d7('0x40')]){_0x5e1194=a0_0x48d7('0x33');}else{_0x5e1194=a0_0x48d7('0xa');}}this[a0_0x48d7('0x37')](_0x1c262f,_0x25199a,_0x5e1194);}[a0_0x48d7('0x3b')](_0x593a6f){for(let _0x378d09 of _0x593a6f){const _0x5da9d6=_0x378d09[a0_0x48d7('0x3')]===a0_0x48d7('0x14')?a0_0x48d7('0x35'):_0x378d09['status']===a0_0x48d7('0x3f')||_0x378d09[a0_0x48d7('0x3')]===a0_0x48d7('0x12')?a0_0x48d7('0x33'):a0_0x48d7('0xa');this[a0_0x48d7('0x37')](_0x378d09[a0_0x48d7('0x1e')],_0x378d09[a0_0x48d7('0x9')],_0x5da9d6);}}[a0_0x48d7('0x2a')](){}[a0_0x48d7('0x37')](_0x905eba,_0x4e9a06,_0x442a41){const _0x1f0e7d=this[a0_0x48d7('0x8')][a0_0x48d7('0x32')](_0x21b3be=>_0x21b3be[a0_0x48d7('0x1')]===_0x905eba['id']);if(!_0x1f0e7d){throw new Error(a0_0x48d7('0x30')+_0x905eba['id']);}_0x1f0e7d[a0_0x48d7('0xc')]=new Date()[a0_0x48d7('0x1d')]();_0x1f0e7d[a0_0x48d7('0x3')]=_0x4e9a06;_0x1f0e7d[a0_0x48d7('0x1f')]=this[a0_0x48d7('0x1b')][a0_0x48d7('0x21')](_0x1f0e7d[a0_0x48d7('0x1f')]);_0x1f0e7d[a0_0x48d7('0x3a')]=_0x442a41;if(this[a0_0x48d7('0x11')]){_0x1f0e7d['terminalOutput']=this[a0_0x48d7('0x39')](_0x905eba[a0_0x48d7('0x2e')],_0x1f0e7d[a0_0x48d7('0x3a')],_0x4e9a06);}}[a0_0x48d7('0x39')](_0x3920b1,_0x3f2bff,_0x555e30){let _0x41e1b7;if(this[a0_0x48d7('0x1a')]){if(this[a0_0x48d7('0x1a')][a0_0x48d7('0x2b')]('./')){_0x41e1b7=(0x0,path_1[a0_0x48d7('0xd')])(workspaceRoot,this['cacheDirectory']);}else{_0x41e1b7=this[a0_0x48d7('0x1a')];}}else{_0x41e1b7=(0x0,path_1[a0_0x48d7('0xd')])(workspaceRoot,a0_0x48d7('0xe'),a0_0x48d7('0x26'),'nx');}try{const _0x2a5f83=this[a0_0x48d7('0x3c')](_0x41e1b7,_0x3920b1);const _0x5c6986=this[a0_0x48d7('0x1b')][a0_0x48d7('0x21')](_0x2a5f83);if(environment_1[a0_0x48d7('0x7')])return _0x5c6986;const _0x182ad1=_0x3f2bff===a0_0x48d7('0xa')?_0x555e30===0x0?CloudEnabledLifeCycle[a0_0x48d7('0x5')]:CloudEnabledLifeCycle[a0_0x48d7('0xb')]:CloudEnabledLifeCycle['MAX_CHARACTERS_CACHED_TASK'];return _0x5c6986[a0_0x48d7('0x31')]>_0x182ad1?a0_0x48d7('0x24')+_0x5c6986[a0_0x48d7('0x3e')](_0x5c6986[a0_0x48d7('0x31')]-_0x182ad1):_0x5c6986;}catch(_0x23799e){return'';}}[a0_0x48d7('0xf')](_0x3e1bff){const _0x7d84f4={};Object[a0_0x48d7('0x2d')](_0x3e1bff[a0_0x48d7('0x4')])[a0_0x48d7('0x20')](_0x46d7f7=>!_0x46d7f7[a0_0x48d7('0x2b')]('npm:'))[a0_0x48d7('0x19')](_0x40b232=>{_0x7d84f4[_0x40b232]=_0x3e1bff['nodes'][_0x40b232];});return{'nodes':_0x7d84f4,'runtime':_0x3e1bff[a0_0x48d7('0x2f')],'implicitDeps':_0x3e1bff['implicitDeps']};}[a0_0x48d7('0x3c')](_0x51d403,_0x5cab21){try{return(0x0,fs_1[a0_0x48d7('0x17')])(path[a0_0x48d7('0xd')](_0x51d403,a0_0x48d7('0x29'),_0x5cab21))[a0_0x48d7('0x3d')]();}catch(_0x511eb5){try{return(0x0,fs_1[a0_0x48d7('0x17')])(path['join'](_0x51d403,_0x5cab21,a0_0x48d7('0x28')))[a0_0x48d7('0x3d')]();}catch(_0x4ee74e){return'';}}}}exports[a0_0x48d7('0x2')]=CloudEnabledLifeCycle;CloudEnabledLifeCycle['MAX_CHARACTERS_FAILED_TASK']=0x30d40;CloudEnabledLifeCycle[a0_0x48d7('0x5')]=0x4e20;CloudEnabledLifeCycle[a0_0x48d7('0x38')]=0x4e20;