const a2_0x4ec0=['resolve','../../../utilities/environment','__esModule','note','value','api','NX_CLOUD_DISTRIBUTED_EXECUTION_ID','scheduledTasks','put','axiosException','messages','VERBOSE_LOGGING','.\x20Status\x20404.','CloudRemoteCache','startRun','next','get','response','runContext','../../../utilities/nx-imports','store','retrieve','defineProperty','reduce','statuses','map','fileStorage','storage','remote-cache-hit','forEach','indexOf','cacheError','extractErrorMessage','.\x20Read\x20only\x20token\x20is\x20used.','done','hashUrls','storeRequests','hash','then','__awaiter','apply','requests','cache-miss','Nx\x20Cloud:\x20Skipping\x20storing\x20','push','throw','Nx\x20Cloud:\x20Cache\x20miss\x20'];(function(_0x58409f,_0x4ec07c){const _0x194c3f=function(_0x1a5d20){while(--_0x1a5d20){_0x58409f['push'](_0x58409f['shift']());}};_0x194c3f(++_0x4ec07c);}(a2_0x4ec0,0x1d7));const a2_0x194c=function(_0x58409f,_0x4ec07c){_0x58409f=_0x58409f-0x0;let _0x194c3f=a2_0x4ec0[_0x58409f];return _0x194c3f;};'use strict';var __awaiter=this&&this[a2_0x194c('0x26')]||function(_0x5e6c17,_0x10f57d,_0x1d6e0c,_0x23c02d){function _0x3d93df(_0x215f3a){return _0x215f3a instanceof _0x1d6e0c?_0x215f3a:new _0x1d6e0c(function(_0x4ad529){_0x4ad529(_0x215f3a);});}return new(_0x1d6e0c||(_0x1d6e0c=Promise))(function(_0x34c7b3,_0x35b272){function _0xa1d71f(_0x3aa250){try{_0x40b87c(_0x23c02d[a2_0x194c('0xe')](_0x3aa250));}catch(_0x4f3634){_0x35b272(_0x4f3634);}}function _0x1147ac(_0x7b86f7){try{_0x40b87c(_0x23c02d[a2_0x194c('0x2c')](_0x7b86f7));}catch(_0x54da4f){_0x35b272(_0x54da4f);}}function _0x40b87c(_0x5f24d6){_0x5f24d6[a2_0x194c('0x21')]?_0x34c7b3(_0x5f24d6[a2_0x194c('0x3')]):_0x3d93df(_0x5f24d6[a2_0x194c('0x3')])[a2_0x194c('0x25')](_0xa1d71f,_0x1147ac);}_0x40b87c((_0x23c02d=_0x23c02d[a2_0x194c('0x27')](_0x5e6c17,_0x10f57d||[]))[a2_0x194c('0xe')]());});};Object[a2_0x194c('0x15')](exports,a2_0x194c('0x1'),{'value':!![]});exports[a2_0x194c('0xc')]=void 0x0;const environment_1=require(a2_0x194c('0x0'));const {output}=require(a2_0x194c('0x12'));class CloudRemoteCache{constructor(_0x3ef23f,_0x2d2d11,_0x137d66,_0x417505){this[a2_0x194c('0x9')]=_0x3ef23f;this[a2_0x194c('0x4')]=_0x2d2d11;this[a2_0x194c('0x11')]=_0x137d66;this[a2_0x194c('0x19')]=_0x417505;this[a2_0x194c('0x23')]=[];}[a2_0x194c('0x14')](_0x48bc75,_0x5c26ec){var _0x47802d;return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a2_0x194c('0x9')][a2_0x194c('0x1e')])return![];const _0x330065=yield this[a2_0x194c('0x22')](_0x48bc75);if(!_0x330065||!_0x330065[a2_0x194c('0xf')]){if(environment_1[a2_0x194c('0xa')]){output[a2_0x194c('0x2')]({'title':a2_0x194c('0x2d')+_0x48bc75+'.'});}this[a2_0x194c('0x11')][a2_0x194c('0x17')][_0x48bc75]=a2_0x194c('0x29');return![];}try{yield this['fileStorage']['retrieve'](_0x48bc75,_0x330065[a2_0x194c('0xf')],_0x5c26ec);this['runContext'][a2_0x194c('0x17')][_0x48bc75]=a2_0x194c('0x1b');return!![];}catch(_0x1204da){const _0x44781b=(_0x47802d=_0x1204da[a2_0x194c('0x8')])!==null&&_0x47802d!==void 0x0?_0x47802d:_0x1204da;if(_0x44781b[a2_0x194c('0x10')]&&_0x44781b[a2_0x194c('0x10')]['status']===0x194){if(environment_1[a2_0x194c('0xa')]){output[a2_0x194c('0x2')]({'title':a2_0x194c('0x2d')+_0x48bc75+a2_0x194c('0xb')});}}else{this[a2_0x194c('0x9')]['cacheError']=this[a2_0x194c('0x9')][a2_0x194c('0x1f')](_0x44781b,'storage');}this[a2_0x194c('0x11')][a2_0x194c('0x17')][_0x48bc75]=a2_0x194c('0x29');return![];}});}[a2_0x194c('0x13')](_0x4cd972,_0xbc73fd){return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a2_0x194c('0x9')][a2_0x194c('0x1e')])return![];const _0x2a297a=Promise[a2_0x194c('0x2e')]()[a2_0x194c('0x25')](()=>__awaiter(this,void 0x0,void 0x0,function*(){var _0x319b48;const _0x12eed8=yield this[a2_0x194c('0x22')](_0x4cd972);if(!_0x12eed8)return![];if(!_0x12eed8[a2_0x194c('0x7')]){if(environment_1[a2_0x194c('0xa')]){output[a2_0x194c('0x2')]({'title':a2_0x194c('0x2a')+_0x4cd972+a2_0x194c('0x20')});}return!![];}try{yield this[a2_0x194c('0x19')][a2_0x194c('0x13')](_0x4cd972,_0x12eed8[a2_0x194c('0x7')],_0xbc73fd);return!![];}catch(_0x5d8167){const _0x838151=(_0x319b48=_0x5d8167[a2_0x194c('0x8')])!==null&&_0x319b48!==void 0x0?_0x319b48:_0x5d8167;this[a2_0x194c('0x9')][a2_0x194c('0x1e')]=this['messages'][a2_0x194c('0x1f')](_0x838151,a2_0x194c('0x1a'));return![];}}));this[a2_0x194c('0x23')]['push'](_0x2a297a);return _0x2a297a;});}[a2_0x194c('0x22')](_0x1c181b){return __awaiter(this,void 0x0,void 0x0,function*(){if(_0x1c181b in this[a2_0x194c('0x11')][a2_0x194c('0x28')]){return(yield this['runContext'][a2_0x194c('0x28')][_0x1c181b])[_0x1c181b];}else{const _0x3fba44=this[a2_0x194c('0x11')][a2_0x194c('0x6')]['filter'](_0x5da78b=>!this[a2_0x194c('0x11')][a2_0x194c('0x28')][_0x5da78b[a2_0x194c('0x24')]])[a2_0x194c('0x18')](_0x4ba970=>_0x4ba970[a2_0x194c('0x24')]);if(_0x3fba44[a2_0x194c('0x1d')](_0x1c181b)===-0x1){_0x3fba44[a2_0x194c('0x2b')](_0x1c181b);}const _0x4527cf=this['api'][a2_0x194c('0xd')](environment_1[a2_0x194c('0x5')],_0x3fba44);_0x3fba44[a2_0x194c('0x1c')](_0x4aca90=>{this[a2_0x194c('0x11')][a2_0x194c('0x28')][_0x4aca90]=_0x4527cf;});return(yield _0x4527cf)[_0x1c181b];}});}['waitForStoreRequestsToComplete'](){return Promise['all'](this[a2_0x194c('0x23')])[a2_0x194c('0x25')](_0x3ddeb9=>_0x3ddeb9[a2_0x194c('0x16')]((_0x508aa2,_0x1aa2ab)=>_0x508aa2&&_0x1aa2ab,!![]));}}exports[a2_0x194c('0xc')]=CloudRemoteCache;